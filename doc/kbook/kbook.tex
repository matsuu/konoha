\documentclass[12pt]{jsbook}\usepackage{times}\usepackage[dvipdfm]{graphicx,color}\usepackage{jverb}\usepackage{comment}\usepackage{makeidx}\usepackage{fancybox}%%%\definecolor{k}{rgb}{.0, .15, .0}\definecolor{k2}{rgb}{.0, .15, .15}%%\newenvironment{ksource}{\VerbatimEnvironment\baselineskip=0.75\normalbaselineskip\color{k}\begin{quote}\vspace{1em}\begin{Verbatim}[fontsize=\small,fontfamily=cmtt]}{\end{Verbatim}\vspace{1em}\end{quote}\color{black}\baselineskip=0.9\normalbaselineskip}\newenvironment{source}{\VerbatimEnvironment\baselineskip=0.75\normalbaselineskip\begin{quote}\vspace{1em}\begin{Verbatim}[fontsize=\small,fontfamily=cmtt]}{\end{Verbatim}\vspace{1em}\end{quote}\baselineskip=0.9\normalbaselineskip}\newenvironment{kshell}{\VerbatimEnvironment\baselineskip=0.6\normalbaselineskip\color{k2}\vspace{1em}\begin{quote}\begin{Verbatim}[fontsize=\small,fontfamily=cmtt]}{\end{Verbatim}\end{quote}\vspace{1em}\color{black}\baselineskip=0.9\normalbaselineskip}\jvtabstop=2\title{\sf {\Huge プログラミング言語 \\ \color{k} {\bf Konoha}\color{black}} \\ Designer's Notes}\author{\sf 倉光君郎}\date{\sf 第１版（ドラフト）}\makeindex\begin{document}\maketitle \baselineskip=0.9\normalbaselineskip\chapter*{本文書に関して}Konoha をご試用いただきましてありがとうございます。本書は、Konoha 言語のプログラミングガイド、及びその言語仕様をまとめたデザイナーズノートです。長らく、Konoha にはマニュアルがなく、ご不便をかけてきましたが、本書がKonohaの体験を広げる一助になれば幸いでございます。なお、本文書は、「書きかけでもいい」から少しでも多くの情報を提供してほしいという要望に応え、本当に「書きかけ」だったりしてお見苦しいところがたくさんあります。あらかじめ、お詫びしておきます。また、Konoha 言語自体、なおも開発が行われています。本書は、Konoha 1.0 仕様を前提に書いており、仕様が先行しているため、実装との間にギャップがあります。そこで、各節には{\tt *}, {\tt **}のようにマークを付けてあり、それぞれ部分的な開発/テストが残っている機能、計画されているが実装されていない機能を表しています。Konoha ユーザメーリングリストでは、Konoha に関する最新情報を扱っております。是非、ご登録の上、本書の不備や最新機能に関する情報を得て下さい。また、バグレポートも歓迎しております。\begin{quote}アドレス: {\tt konoha-users@sourceforge.jp}\\登録: http://lists.sourceforge.jp/mailman/listinfo/konoha-users\end{quote}\subsection*{著作権表記}Copyright (c) 2008-2009 Kimio Kuramitsu, Konoha Project. All rights reserved. \subsection*{再配布の留意事項}本書は、現在PDF版をKonoha プロジェクトの sourceforge サイトから配布しています。将来、出版してくれる出版社が見つかれば、出版したいと考えていますが、電子版の配布もユーザ数の動向を把握するため、可能な限り継続する予定です。ご知人に紹介するときは、PDF ファイルを直接、再配布する代わりに、一次配布サイトからダウンロードするように薦めて頂けますようにお願いします。\begin{quote}{\sf http://sourceforge.jp/projects/konoha/releases/ }\end{quote}\setcounter{page}{1}\tableofcontents%\setlength{\parskip}{0.8em} % パラグラフが変わる時に空ける間隔%\setlength{\parindent}{0pt} % パラグラフのインデント\chapter{はじめに}\setcounter{page}{1}{\it Konoha プロジェクトはどのように始まったのか？その背景にある言語設計のフィロソフィーに関して説明する。}\section{Konohaの始まり*}Konoha の開発は、ある体験から始まった。（以下続く）\begin{comment}大学教員になりたての最初の１年目、東京近郊のある大学\footnote{ちなみに、非常勤講師として担当した講義なので横浜国立大学のことではない。}でプログラミングの講義を担当することになった。プログラミングの講義と言っても、講義名は「アルゴリズム論」。ただし、あまりに学生がプログラミングが書けないから、講義と演習、あわせて週３時間、通年でC言語を中心に丁寧に教えてください、というものだった。最初は、一瞬、戸惑った。というのも意味がわからなかったからだ。「C言語を1年間も？Cコンパイラの作り方でも教えるのか？」と冗談を言ってしまうほどであった。しかし、１年間、講義を担当してみて、もっと意味がわからない結果が待っていた。ほとんど全滅的に誰もプログラミングができない状態で１年を終えることになってしまったためだ。たぶん教育経験に優れた教員であれば、学生たちが直面する困難さを、丁寧な教材とより丁寧な指導によって乗り越えようと考えただろう。しかし、新米教員には別の解決策が脳裏をかすめた。\begin{center}そもそも、初学者相手にC言語を使っているのが悪いのではないか？\\もっとプログラミングを学びやすい言語を創ってしまおう。\end{center}こうして、新しいプログラミング言語 Konoha への長い道のりは、始まることになった。（以下続く）\section{こうやって書く}こういう切り出しから始まると、Konohaは教育的な情熱にあふれる先生が設計した言語だという印象を与えてしまうかも知れない。しかし、学生がプログラミング言語背景はそれほど簡単なものではない。現在の情報社会において、ソフトウェアは中核的な技術である。プログラミングを通して、情報処理のアイディアやソフトウェアの仕組みを学ぶことは、万人に対して有意義だと考えている。しかし、それに適したプログラミング言語があまり存在しないのも事実である。今日、情報社会モデルは、\section{「プログラミングの楽しさ」を学ぶ}プログラミングの得意/苦手を分けるのは、「プログラムが動いた！楽しい！！」という体験ができるかどうかに大きくかかっている、と思う。まず、C言語を擁護しておきたいが、C言語は優れたプログラミング言語である。シンプルで強力である。しかし、Cプログラミングが楽しいのは、コンピュータアーキテクチャ、オペレーティングシステム、コンパイラ構成法などの知識があって、分岐予測やL2キャッシュのヒット率なんかが気になり、ハードウェアの性能を引き出すプログラミングができるようになったとき、感じるものである。そうでなければ、ほとんど意味不明のエラーで悩むばかりで、プログラムは全く動かないとなりかねない。また、昔話になって恐縮であるが、学生時代だった頃を思い出してみると、プログラミングが得意だった同級生は、BASIC というプログラミング言語を使ってプログラミング、要するにゲームを作ったという体験を持つことが多い。BASIC のよいところは、インタプリタによって入力したプログラムをその場で実行して試せた点である。現在、BASIC の代替となりうる言語は、はやり同じインタプリタ型のスクリプティング言語だろう。Perl, Python, Ruby, PHP, JavaScript などが、このカテゴリに属する。\section{暴風雨}\section{Konoha の目指すもの}あらかじめ断っておくが、C言語は優れたプログラミング言語である。シンプルであるが非常に強力である。ただし、そのシンプルさと強力さは、コンピュータアーキテクチャやオペレーティングシステムなど、コンピュータシステムの知識が十分にあればという前提条件が付く。そうでなければ、実を言うと、C言語はプログラミング言語の入門用として不適切ではないかと考える人たちはたくさんいる。正確にいえば、今回はもう少し、考えを先に進めてしまったというべきだろう。より教育現場で使いやすいプログラミング言語を作ってしまおうと考えた。それが、konoha の始まりである。\end{comment}\input{quickguide}\input{lex}\input{statement}\input{number}\input{string}\input{array}\input{class}%\input{any}\input{expt}%\input{stream}\input{script}\input{debug}%\chapter{データ変換とマッピング推論}%\chapter{セマンティックプログラミング}%\chapter{セキュリティ機能}%\chapter{メタデータとポリシー管理}\input{cbind}\begin{thebibliography}{10}\bibitem{mt} http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/mt.html\end{thebibliography}\appendix\chapter{入手方法}\begin{quote}\begin{jverbatim}$ tar zxfv konoha-0.x.y.tar.gz$ cd konoha-0.x.y$ ./configure$ make$ sudo make install\end{jverbatim}\end{quote}\printindex\end{document}     % LaTeX文書の最後